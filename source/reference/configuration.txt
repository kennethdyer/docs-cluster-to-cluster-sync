.. _c2c-config:

Configuration File Settings
###########################

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

You can configure :program:`mongosync` instances at startup using a configuration
file.  The configuration file contains settings that are the equivalent of
``mongsync`` command-line options.  See :ref:`c2c-config-setting-option-map`.


Configuration File
==================

To use a configuration file, you must start :program:`mongosync` with the
:option:`--config` option specifying the path to the file.  For example:

.. code-block:: console

   $ cat mongosync.conf
   cluster0: mongodb://192.0.2.10:27017
   cluster1: mongodb://192.0.2.20:27017

   $ mongosync --config mongosync.conf

Options
=======

.. setting:: cluster0

   *Type*: string

   Sets the :ref:`connection URI <mongodb-uri>` for the first cluster.
   The first cluster can serve as either the source or the destination
   in the sync process. Designate the source and destination clusters
   in the call to the :ref:`c2c-api-start` API endpoint.

   For more information on connecting ``mongosync``, see
   :ref:`Connections <c2c-connecting>`.

   To set ``cluster0`` from the command-line, see :option:`--cluster0`.

.. setting:: cluster1

   *Type*: string

   Sets the :ref:`connection URI <mongodb-uri>` for the second cluster.
   The second cluster can serve as either the source or the destination
   in the sync process. Designate the source and destination clusters
   in the call to the :ref:`c2c-api-start` API endpoint.

   For more information on connecting ``mongosync``, see
   :ref:`Connections <c2c-connecting>`.

   To set ``cluster1`` from the command-line, see :option:`--cluster1`.

.. setting:: id

   *Type*: string

   Sets an identifier for the ``mongosync`` instance.

   Use this option when running multiple instances of ``mongosync`` on
   a sharded cluster, to synchronize the shards individually.

   The ``id`` setting must correspond to the shard ID of the shard it
   syncs.  To find the shard ID, use the :dbcommand:`listShards`
   command.

.. setting:: logPath

   *Type*: string

   Sets the path to the log directory. {+c2c-product-name+} writes logs
   to files in this directory.

.. setting:: port

   *Type*: integer

   *Default*: ``27182``

   Sets the port used by the HTTP server for the {+c2c-product-name+}
   HTTP API.

.. setting:: verbosity 

   *Type*: string

   *Default*: ``INFO``

   Sets the verbosity level to use in log messages.
   {+c2c-product-name+} logs all messages at the specified level and
   any messages at lower levels.

   The ``verbosity`` setting supports the following values:

   .. include:: /includes/supported-verbosity-options.rst


.. toctree::
   :hidden:
   :glob:

   /reference/configuration/file-setting-cli-option-mapping